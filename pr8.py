
"""
–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞ —Ä–æ–±–æ—Ç–∞: –û—Å–Ω–æ–≤–∏ HTTP —Ç–∞ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∞ requests
"""

import requests

# ======================================================
# üß© –ó–∞–≤–¥–∞–Ω–Ω—è 1: –û—Å–Ω–æ–≤–∏ HTTP (—Ç–µ–æ—Ä–µ—Ç–∏—á–Ω–µ –ø–æ—è—Å–Ω–µ–Ω–Ω—è —É –≤–∏–≥–ª—è–¥—ñ –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ–≤)
# ======================================================

"""
HTTP (HyperText Transfer Protocol) ‚Äî —Ü–µ –ø—Ä–æ—Ç–æ–∫–æ–ª –ø–µ—Ä–µ–¥–∞—á—ñ –¥–∞–Ω–∏—Ö –º—ñ–∂ –∫–ª—ñ—î–Ω—Ç–æ–º —ñ —Å–µ—Ä–≤–µ—Ä–æ–º.
–û—Å–Ω–æ–≤–Ω—ñ –º–µ—Ç–æ–¥–∏:
- GET: –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö
- POST: –Ω–∞–¥—Å–∏–ª–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö
- PUT: –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö
- DELETE: –≤–∏–¥–∞–ª–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö
"""

# ======================================================
# üß© –ó–∞–≤–¥–∞–Ω–Ω—è 2: –ö–ª—ñ—î–Ω—Ç —ñ —Å–µ—Ä–≤–µ—Ä (–∫–æ—Ä–æ—Ç–∫–µ –ø–æ—è—Å–Ω–µ–Ω–Ω—è)
# ======================================================

"""
–ö–ª—ñ—î–Ω—Ç ‚Äî —Ü–µ –ø—Ä–æ–≥—Ä–∞–º–∞, —è–∫–∞ –Ω–∞–¥—Å–∏–ª–∞—î –∑–∞–ø–∏—Ç (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –±—Ä–∞—É–∑–µ—Ä).
–°–µ—Ä–≤–µ—Ä ‚Äî —Ü–µ –ø—Ä–æ–≥—Ä–∞–º–∞, —è–∫–∞ –ø—Ä–∏–π–º–∞—î –∑–∞–ø–∏—Ç —ñ –ø–æ–≤–µ—Ä—Ç–∞—î –≤—ñ–¥–ø–æ–≤—ñ–¥—å.
–û–±–º—ñ–Ω –¥–∞–Ω–∏–º–∏ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è —á–µ—Ä–µ–∑ HTTP-–∑–∞–ø–∏—Ç–∏ —Ç–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ.
"""

# ======================================================
# üß© –ó–∞–≤–¥–∞–Ω–Ω—è 1 (requests): –í–∏–∫–æ–Ω–∞–Ω–Ω—è GET-–∑–∞–ø–∏—Ç—É
# ======================================================

print("\n===== –ó–∞–≤–¥–∞–Ω–Ω—è 1: GET-–∑–∞–ø–∏—Ç =====")

url = "https://example.com"

try:
    response = requests.get(url)
    print("–°—Ç–∞—Ç—É—Å-–∫–æ–¥:", response.status_code)
    print("–ü–µ—Ä—à—ñ 200 —Å–∏–º–≤–æ–ª—ñ–≤ —Å—Ç–æ—Ä—ñ–Ω–∫–∏:")
    print(response.text[:200])
except requests.exceptions.RequestException as e:
    print("–ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –≤–∏–∫–æ–Ω–∞–Ω–Ω—ñ GET-–∑–∞–ø–∏—Ç—É:", e)

# ======================================================
# üß© –ó–∞–≤–¥–∞–Ω–Ω—è 2: –ü–∞—Ä–∞–º–µ—Ç—Ä–∏ –∑–∞–ø–∏—Ç—É
# ======================================================

print("\n===== –ó–∞–≤–¥–∞–Ω–Ω—è 2: –ü–∞—Ä–∞–º–µ—Ç—Ä–∏ –∑–∞–ø–∏—Ç—É =====")

url = "https://httpbin.org/get"
params = {"name": "Max", "age": 21}

try:
    response = requests.get(url, params=params)
    print("URL —ñ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏:", response.url)
    print("–í—ñ–¥–ø–æ–≤—ñ–¥—å —Å–µ—Ä–≤–µ—Ä–∞:")
    print(response.text)
except requests.exceptions.RequestException as e:
    print("–ü–æ–º–∏–ª–∫–∞:", e)

# ======================================================
# üß© –ó–∞–≤–¥–∞–Ω–Ω—è 3: POST-–∑–∞–ø–∏—Ç
# ======================================================

print("\n===== –ó–∞–≤–¥–∞–Ω–Ω—è 3: POST-–∑–∞–ø–∏—Ç =====")

url = "https://httpbin.org/post"
data = {"username": "admin", "password": "12345"}

try:
    response = requests.post(url, data=data)
    print("POST-–∑–∞–ø–∏—Ç –≤–∏–∫–æ–Ω–∞–Ω–æ —É—Å–ø—ñ—à–Ω–æ!")
    print("–í—ñ–¥–ø–æ–≤—ñ–¥—å —Å–µ—Ä–≤–µ—Ä–∞:")
    print(response.text)
except requests.exceptions.RequestException as e:
    print("–ü–æ–º–∏–ª–∫–∞:", e)

# ======================================================
# üß© –ó–∞–≤–¥–∞–Ω–Ω—è 4: –û–±—Ä–æ–±–∫–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ
# ======================================================

print("\n===== –ó–∞–≤–¥–∞–Ω–Ω—è 4: –û–±—Ä–æ–±–∫–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ =====")

url = "https://httpbin.org/get"

try:
    response = requests.get(url)
    print("–ö–æ–¥ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ:", response.status_code)
    print("–ó–∞–≥–æ–ª–æ–≤–∫–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ:")
    for key, value in response.headers.items():
        print(f"{key}: {value}")
    print("\n–ß–∞—Å—Ç–∏–Ω–∞ —Ç—ñ–ª–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ:")
    print(response.text[:300])
except requests.exceptions.RequestException as e:
    print("–ü–æ–º–∏–ª–∫–∞:", e)

# ======================================================
# üß© –ó–∞–≤–¥–∞–Ω–Ω—è 5: –û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫
# ======================================================

print("\n===== –ó–∞–≤–¥–∞–Ω–Ω—è 5: –û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫ =====")

url = "https://wrong-url-example.com"

try:
    response = requests.get(url, timeout=5)
    response.raise_for_status()
    print("‚úÖ –ó–∞–ø–∏—Ç —É—Å–ø—ñ—à–Ω–∏–π!")
except requests.exceptions.Timeout:
    print("‚è± –ü–æ–º–∏–ª–∫–∞: –ü–µ—Ä–µ–≤–∏—â–µ–Ω–æ —á–∞—Å –æ—á—ñ–∫—É–≤–∞–Ω–Ω—è –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ.")
except requests.exceptions.ConnectionError:
    print("‚ùå –ü–æ–º–∏–ª–∫–∞: –ù–µ –≤–¥–∞–ª–æ—Å—è –ø—ñ–¥–∫–ª—é—á–∏—Ç–∏—Å—è –¥–æ —Å–µ—Ä–≤–µ—Ä–∞.")
except requests.exceptions.HTTPError as e:
    print("‚ö†Ô∏è HTTP-–ø–æ–º–∏–ª–∫–∞:", e)
except requests.exceptions.RequestException as e:
    print("–Ü–Ω—à–∞ –ø–æ–º–∏–ª–∫–∞:", e)

# ======================================================
# üß© –ó–∞–≤–¥–∞–Ω–Ω—è 6: –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –≤–º—ñ—Å—Ç—É —É —Ñ–∞–π–ª
# ======================================================

print("\n===== –ó–∞–≤–¥–∞–Ω–Ω—è 6: –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –≤–º—ñ—Å—Ç—É —É —Ñ–∞–π–ª =====")

url = "https://example.com"

try:
    response = requests.get(url)
    response.raise_for_status()

    with open("page.html", "w", encoding="utf-8") as file:
        file.write(response.text)
    print("‚úÖ –í–º—ñ—Å—Ç —Å—Ç–æ—Ä—ñ–Ω–∫–∏ –∑–±–µ—Ä–µ–∂–µ–Ω–æ —É —Ñ–∞–π–ª 'page.html'")
except requests.exceptions.RequestException as e:
    print("–ü–æ–º–∏–ª–∫–∞:", e)
